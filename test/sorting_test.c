#include <stdio.h>

#include "../algorithms/sorting.h"

void counting_sort_tests(void);

bool array_is_sorted(const unsigned long long int * restrict array, const size_t length);

int main(void)
{
    counting_sort_tests();
}

void counting_sort_tests(void)
{
    size_t test = 0;
    
    // Empty Array
    test++;
    
    unsigned long long int array_empty[6] = {};
    
    counting_sort(array_empty, 0, 6ll);
    
    if (array_is_sorted(array_empty, 6) == false)
        fprintf(stderr, "Test %zd failed\n", test);
    
    // Reverse Array
    test++;
    
    unsigned long long int array_reverse[6] = {6, 5, 4, 3, 2, 1};
    counting_sort(array_reverse, 6, 6ll);
    
    if (array_is_sorted(array_reverse, 6) == false)
        fprintf(stderr, "Test %zd failed\n", test);
    
    // Repeat Array
    test++;
    
    unsigned long long int array_repeat[6] = {2, 5, 5, 5, 1, 2};
    counting_sort(array_repeat, 6, 6ll);
    
    if (array_is_sorted(array_repeat, 6) == false)
        fprintf(stderr, "Test %zd failed\n", test);
    
    // Long Array
    test++;
    
    unsigned long long int array_long[1000] = {4830, 9272, 1044, 8281, 6603, 9960, 2163, 3454, 8854, 7014, 5744, 2792, 9001, 1667, 9362, 5190, 8027, 2664, 3717, 5084, 1697, 9130, 8622, 1514, 4782, 3327, 7873, 7278, 3457, 6261, 9409, 941, 3528, 8898, 1198, 3273, 7102, 267, 2250, 9924, 6695, 757, 9530, 8706, 2502, 5757, 1471, 6338, 9601, 5779, 7641, 7613, 3149, 2777, 8412, 6505, 4934, 7085, 1486, 6672, 9656, 6822, 8150, 3517, 2142, 4075, 2590, 6773, 580, 6278, 3210, 7092, 9478, 2186, 5139, 7611, 4003, 3847, 9822, 5814, 1894, 7696, 4353, 2947, 9160, 5015, 9629, 3609, 8947, 5721, 710, 5874, 6187, 421, 3640, 4478, 3526, 3047, 7051, 2320, 812, 3577, 1673, 7928, 3678, 2148, 8321, 7026, 5191, 4717, 2955, 1320, 9053, 7452, 6917, 268, 8616, 3436, 7903, 674, 1168, 5251, 1506, 6404, 1648, 4371, 8211, 9920, 2733, 7493, 3833, 1529, 5617, 9741, 5654, 1786, 493, 8948, 5630, 6098, 8982, 9533, 7619, 2627, 3408, 501, 4703, 7217, 2511, 5460, 8239, 3621, 9510, 3310, 1259, 4642, 4677, 4125, 3405, 6246, 1498, 1008, 3900, 2444, 9086, 9180, 478, 7643, 3500, 9383, 3737, 2880, 4181, 4205, 3400, 9908, 4131, 1976, 8047, 9366, 9616, 6531, 6017, 1128, 3481, 7539, 5163, 2290, 8871, 6712, 6497, 4260, 1931, 9954, 7767, 8541, 7396, 5868, 9056, 8446, 2200, 6295, 7575, 5705, 1434, 4647, 5961, 1115, 5012, 2027, 3876, 5089, 8733, 8021, 9937, 573, 2048, 6243, 5113, 5928, 4711, 9977, 5334, 4899, 7379, 2073, 1296, 2449, 4206, 7949, 4829, 6403, 1760, 4305, 9829, 7664, 2461, 2518, 3077, 1205, 8192, 7429, 9404, 7087, 5455, 2081, 2092, 3171, 9540, 3940, 8440, 4573, 6218, 7401, 1777, 9324, 3122, 8160, 1035, 1165, 6417, 2364, 5900, 3654, 7872, 6081, 4190, 5062, 8342, 4845, 6993, 6127, 1558, 4547, 2820, 1446, 5123, 3045, 9685, 3591, 1537, 8797, 3721, 7569, 4594, 2420, 6990, 8559, 6274, 7289, 1093, 5682, 829, 1520, 1855, 6109, 9796, 8187, 5597, 1344, 5209, 3756, 4039, 8383, 7612, 6150, 815, 2623, 9051, 1420, 2838, 437, 3871, 7391, 4036, 1996, 3343, 9509, 5686, 4459, 7628, 5530, 642, 9834, 5404, 5904, 4920, 6455, 6499, 874, 4032, 9172, 9580, 8805, 6965, 3138, 6800, 8247, 6515, 897, 8084, 7783, 8680, 1860, 5143, 9847, 9671, 2254, 5102, 826, 4895, 8378, 9359, 3470, 6091, 5451, 5671, 2479, 2279, 4761, 954, 2661, 7426, 6635, 7199, 8112, 1923, 4884, 4505, 9405, 7782, 5450, 1840, 6681, 8101, 3134, 4185, 3604, 4970, 3461, 7053, 8215, 3403, 9090, 3670, 5681, 3551, 8059, 9281, 5542, 6875, 5349, 2744, 4889, 9005, 1960, 6129, 9658, 9267, 6900, 2274, 2317, 7244, 1433, 2614, 892, 6846, 3190, 4687, 6641, 9302, 9586, 8415, 5820, 8979, 5818, 6782, 3127, 1622, 7775, 1907, 9138, 8153, 1319, 6027, 8892, 7805, 8627, 2038, 2476, 6857, 1967, 450, 7263, 8522, 1003, 1236, 9341, 2884, 3920, 6216, 1333, 5045, 3028, 8039, 2482, 5903, 5388, 4880, 1483, 9984, 8265, 7650, 5078, 6419, 3616, 5029, 5887, 582, 4197, 7447, 266, 6067, 7304, 8845, 5717, 8389, 1100, 4628, 9159, 2909, 4633, 9903, 8455, 9135, 9279, 3367, 4637, 7419, 6808, 3540, 9048, 3835, 5522, 3331, 3056, 4462, 3009, 2774, 9343, 746, 9280, 1914, 5653, 5145, 3508, 2560, 6906, 7627, 3117, 8046, 5072, 8760, 5201, 333, 3401, 2170, 5368, 6848, 7957, 6609, 9353, 9081, 5354, 8253, 7931, 6202, 9283, 7322, 502, 3942, 9472, 6018, 2033, 8167, 4871, 270, 5807, 6014, 2446, 2041, 1212, 8807, 1650, 8025, 3302, 700, 5325, 4625, 1365, 7329, 1579, 7188, 9922, 6196, 4068, 8089, 5393, 5828, 6940, 8769, 3738, 1725, 4979, 2335, 9208, 7093, 8309, 7519, 8818, 2569, 3248, 9178, 8999, 3213, 8488, 1475, 9431, 3062, 7416, 4249, 7848, 2229, 1418, 8043, 8957, 8884, 5784, 1559, 7338, 3217, 2584, 1577, 9044, 4616, 8174, 2165, 1852, 3114, 4317, 8583, 7096, 1998, 2428, 9983, 1096, 6025, 6582, 3997, 8919, 9531, 8748, 6331, 9987, 2517, 1769, 7481, 6496, 1675, 109, 3173, 7153, 752, 7345, 5801, 5614, 3699, 2329, 5532, 2579, 5094, 7152, 5583, 8770, 4085, 5622, 6031, 3939, 2757, 8445, 2392, 1573, 8044, 8725, 6305, 4758, 6943, 3558, 9248, 8431, 4751, 2644, 3267, 3859, 861, 4380, 732, 1423, 7983, 7269, 2962, 6757, 4686, 6969, 5281, 7969, 8686, 1876, 1452, 5345, 2136, 4781, 6133, 4208, 6578, 9400, 4811, 9599, 7617, 7748, 4019, 3391, 5772, 2030, 9462, 8462, 6074, 4537, 2550, 2572, 5970, 4230, 5894, 3243, 1549, 4341, 8586, 3293, 6104, 5305, 8263, 9193, 9287, 5527, 3024, 9340, 6063, 6768, 5551, 3440, 8887, 7057, 2190, 2080, 4044, 4926, 488, 2918, 3961, 686, 9612, 1611, 3344, 6901, 9748, 4990, 7769, 8048, 363, 6824, 1572, 9157, 7390, 1192, 1812, 420, 5058, 4586, 5408, 1727, 9978, 5788, 6548, 2606, 4592, 9123, 5998, 3317, 9288, 8930, 286, 6213, 7494, 949, 5587, 4831, 5514, 4810, 8767, 1544, 8712, 8240, 6273, 4640, 1454, 6826, 7733, 3581, 1469, 6210, 4858, 8549, 9156, 3222, 8135, 3287, 3020, 6222, 5070, 2343, 8294, 2665, 3174, 7968, 5187, 9284, 7915, 7407, 356, 1467, 5225, 6739, 3813, 8927, 3349, 9414, 3802, 5909, 2490, 3424, 9289, 3873, 292, 2965, 7716, 5321, 9662, 1177, 1536, 6585, 612, 9468, 5101, 7456, 5125, 2102, 2669, 6979, 1633, 8757, 6390, 2652, 5257, 584, 1847, 1935, 7694, 463, 4764, 4814, 7816, 9990, 3750, 6761, 4143, 9194, 9103, 5127, 2089, 9094, 8510, 8040, 2035, 2292, 5228, 7132, 6533, 3488, 8329, 6158, 2941, 1828, 9592, 8397, 7579, 4268, 7302, 7106, 5128, 5554, 6632, 4372, 7422, 8303, 5950, 6606, 9387, 8582, 4124, 2044, 7004, 6358, 9161, 6401, 951, 8856, 9271, 5584, 2740, 5180, 6259, 516, 3423, 6862, 4179, 4067, 3010, 8658, 945, 5197, 8642, 9136, 857, 6542, 7437, 6272, 5399, 3928, 6678, 6624, 5432, 7651, 6314, 4347, 8404, 8655, 2139, 7349, 4563, 7839, 5776, 7427, 1282, 6282, 7081, 3603, 8794, 8376, 7164, 4574, 3281, 8521, 3460, 8014, 6945, 6827, 3202, 2714, 9871, 5141, 7443, 7311, 6604, 1444, 3838, 3794, 7899, 1066, 9882, 2228, 10000, 699, 8697, 6660, 4377, 314, 491, 8816, 3562, 2224, 962, 9243, 3221, 4776, 2123, 4582, 5374, 7615, 9731, 2964, 811, 5563, 4214, 9336, 2100, 7781, 3154, 4725, 924, 7804, 5188, 7777, 5504, 8185, 1890, 5116, 3427, 3484, 991, 5507, 9926, 7512, 4683, 6669, 2933, 8277, 9454, 6131, 8834, 1101, 3181, 4964, 7008, 882, 8088, 4805, 6061, 9679, 2603, 9022, 5370, 5047, 4789, 5437, 9508, 7216, 8051, 6451, 5151, 1803};
    counting_sort(array_long, 1000, 10000ll);
    
    if (array_is_sorted(array_long, 1000) == false)
        fprintf(stderr, "Test %zd failed\n", test);
}

bool array_is_sorted(const unsigned long long int * restrict array, const size_t length)
{
    for (size_t i = 1; i < length; i++)
        if (array[i - 1] > array[i])
            return false;
    
    return true;
}
